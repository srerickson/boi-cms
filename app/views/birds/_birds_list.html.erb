<div class="span-24">

<table id="birds_table">
  <thead>
    <% @query.view_fields.each_with_index do |f_name, i|%>
      <th><%= @bird_schema.field_name_with_key(f_name) %></th>
    <%end%>
  </thead>
  <tbody>
    <% birds_list.each_with_index do |bird, i| %>
      <tr data-bird_id="<%=bird.id%>" class="bird_list_row">
        <% @query.view_fields.each_with_index do |f_name, i|%>
          <td><%= render :inline => sanitize_for_view(bird.list_value_of_key(f_name)), :locals => {:obj => bird }%></td>
        <%end%>  
      </tr>
  <% end %>
  </tbody>
</table>

<script>
  $(document).ready(function(){
    $("#flexi_table").flexigrid()
  });
  
  $("#birds_table tr.bird_list_row").bind({
    mouseover: function(){
      $(this).addClass("mouseover")
      $(this).children("td").addClass("mouseover")
    }, 
    mouseout: function(){
      $(this).removeClass("mouseover")
      $(this).children("td").removeClass("mouseover")
    },
    click: function(){
      window.location = "/birds/"+$(this).attr("data-bird_id")
    }
  })
</script>

</div>
