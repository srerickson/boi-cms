
<% form_for @bird, :html => {:multipart => true} do |f| %>
 <%= render "shared/error_message", :target => @bird %>

<% @bird_schema.schema_fields.each do |field|%>

  <% if field.first_in_group? and !field.group_name.blank? %>
    <div class="span-24 prepend-top last bird_field_group_name">
      <h3><%= field.group_name %></h3>
      <hr/>
    </div>
  <% end %>


  <div class="bird_row span-24">
    <div class="span-4">
      <div class="bird_field_name ui-state-default">
        <%= field.short_name %>
        <% if field.short_name != field.description %>
          <a href="#" onclick="$(this).next().toggle(200);return false;" style="float:right" ><span class="ui-icon ui-icon-triangle-1-s"></a>
          <div class="bird_field_description hidden" style="display:none">
            <%= field.description %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="span-19 bird_field_value last">

      <% if field.form_type == "String" %>
        <%= f.text_field field.key %>
      <% elsif field.form_type == "Text"%>
        <%= f.text_area field.key %> 
      <% else %> 
        <%= render :inline => field.render_form_func , :locals => {:f => f}  %>
      <% end %>
    </div>
  </div>



<% end %>


<%= f.submit "Save" %>


<% end %>
